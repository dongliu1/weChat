<script src="../jquery/jquery.min.js"></script>

<script src="hcluster.js"></script>

<input type="button" value="start" onclick="start();">
<script>
var points=[[169.089783,3],[170,4.297297],[170,3.677165],[170,3.204724],[169.731705,3],[169,3],[168.268295,3],[167.994904,3],[167.986847,3],[167.97879,3],[167.970734,3],[167.962677,3],[167.954605,3],[167.946548,3],[167.938492,3],[167.930435,3],[167.922379,3],[167.914322,3],[167.906265,3],[167.898209,3],[167.890152,3],[167.882095,3],[167.874039,3],[167.865982,3],[167.857925,3],[167.849869,3],[167.841812,3],[167.833755,3],[167.825699,3],[167.817642,3],[167.809586,3],[167.801529,3],[167.793472,3],[167.785416,3],[167.777359,3],[167.769302,3],[167.761246,3],[167.753189,3],[167.745132,3],[167.737076,3],[167.729019,3],[167.720963,3],[167.712906,3],[167.704849,3],[167.696793,3],[167.688736,3],[167.680679,3],[167.672623,3],[167.664566,3],[167.656509,3],[167.648453,3],[167.640396,3],[167.632339,3],[167.624283,3],[167.616226,3],[167.60817,3],[167.600113,3],[167.592056,3],[167.584,3],[167.575943,3],[167.567886,3],[167.55983,3],[167.551773,3],[167.543716,3],[167.535645,3],[167.527588,3],[167.519531,3],[167.511475,3],[167.503418,3],[167.495361,3],[167.487305,3],[167.479248,3],[167.471191,3],[167.463135,3],[167.455078,3],[167.447021,3],[167.438965,3],[167.430908,3],[167.422852,3],[167.414795,3],[167.406738,3],[167.398682,3],[167.390625,3],[167.382568,3],[167.374512,3],[167.366455,3],[167.358398,3],[167.350342,3],[167.342285,3],[167.334229,3],[167.326172,3],[167.318115,3],[167.310059,3],[167.302002,3],[167.293945,3],[167.285889,3],[167.277832,3],[167.269775,3],[167.261719,3],[167.253662,3],[167.245605,3],[167.237549,3],[167.229492,3],[167.221436,3],[167.213379,3],[167.205322,3],[167.197266,3],[167.189209,3],[167.181152,3],[167.173096,3],[167.165039,3],[167.156982,3],[167.148926,3],[167.140869,3],[167.132812,3],[167.124741,3],[167.116684,3],[167.108627,3],[167.100571,3],[167.092514,3],[167.084457,3],[167.076401,3],[167.068344,3],[167.060287,3],[167.052231,3],[167.044174,3],[167.036118,3],[167.028061,3],[167.020004,3],[167.011948,3],[167.003891,3],[167,3],[167,3],[167,3],[166.791672,3],[166.819672,3],[166.555557,3.666667],[166,3.75],[166,3],[165,3.722222],[166,3],[166,3],[167,4],[167,3],[167,3.75],[167,3],[169,3.916667],[169,2.166667],[167,4],[167,3.5],[165,3.333333],[168.416672,3],[169,3],[169,3],[170,3],[170,3.666667],[170.5,2.5],[170.333328,15],[170,34],[169.833328,34.833332],[170,33],[170,34],[170,12],[170,34],[171,34.560001],[171,36],[171,35.916668],[170,36],[169,34.25],[169,15.333333],[170,34.416668],[172,36.857143],[172,37],[171,36.833332],[171.666672,36],[169.5,34.5],[169,33.666668],[169,34.333332],[169,16.333334],[169,34.666668],[169,34.333332],[169,34.5],[169,33.666668],[169,34.833332],[169,34.615383],[169,35.5],[169,35],[169,34],[169,33],[169,20],[169,19.333334],[168.857147,23.559999],[168,20],[168.416672,21.5],[168.333328,26.666666],[168,23.5],[168,23.666666],[168,28.428572],[168,25.666666],[168,26],[170,30.5],[170.333328,32.666668],[170,30.5],[170,30.285715],[170,38.666668],[170.166672,35.166668],[170,43],[171,41],[171.666672,58.666668],[172,67.833336],[172,68.5],[173,67.879997],[173.166672,97.166664],[171.666672,105],[171.75,108],[172,105.333336],[173,113.416664],[172.416672,109.53846],[173,123],[173,118.444443],[172,127],[173.75,128.692307],[173,131.89473],[173,137],[173.416672,139.916672],[172,143.5],[172.75,144.5],[172,151.666672],[172.833328,157.555557],[172,155],[172,158],[172,162.837845],[172,173.888885],[172,169.5],[172,178.222229],[172,186.333328],[172,188.230774],[172,188.297302],[172,188.916672],[172.333328,191.761902],[172.5,201],[172.666672,206.59259],[172.285721,209.07692],[172.166672,210.833328],[172,212],[173,213.166672],[172,222.25],[169.25,225.839996],[170,222],[171,230.333328],[171,235.5],[171,233.399994],[171,245],[171,246],[171,247.571426],[170.5,243.789474],[171,246.666672],[171,257.933319],[171,261],[171,266.458344],[171,269.538452],[171,269.555542],[171,280.5],[170.666672,287.333344],[171,290.611115],[171,288.651154],[170,286.18811],[170,288.564362],[170,290.940582],[170,293.316833],[170,295.693054],[170,298.069305],[170,300.445557],[170,302.821777],[170,305.198029],[170,307.574249],[170,309.9505],[170,312.326721],[170,314.702972],[170,317.079193],[170,319.455444],[170,321.831696],[170,324.207916],[170,326.584167],[170,328.960388],[170,331.336639],[170,333.71286],[170,336.089111],[170,338.465332],[170,340.841583],[170,343.217834],[170,345.594055],[170,347.970306],[170,350.346527],[170,352.722778],[170,355.098999],[170,357.47525],[170,359.851471],[170,362.227722],[170,364.603973],[170,366.980194],[170,369.356445],[170,371.732666],[170,374.108917],[170,376.485138],[170,378.861389],[170,381.23761],[170,383.613861],[170,385.990112],[170,388.366333],[170,390.742584],[170,393.118805],[170,395.495056],[170,397.871277],[170,400.247528],[170,402.623749],[170,405],[170,407.376251],[170,409.752472],[170,412.128723],[170,414.504944],[170,416.881195],[170,419.257416],[170,421.633667],[170,424.009888],[170,426.386139],[170,428.76239],[170,431.138611],[170,433.514862],[170,435.891083],[170,438.267334],[170,440.643555],[170,443.019806],[170,445.396027],[170,447.772278],[170,450.148529],[170,452.52475],[170,454.901001],[170,457.277222],[170,459.653473],[170,462.029694],[170,464.405945],[170,466.782166],[170,469.158417],[170,471.534668],[170,473.910889],[170,476.28714],[170,478.663361],[170,481.039612],[170,483.415833],[170,485.792084],[170,488.168304],[170,490.544556],[170,492.920807],[170,495.297028],[170,497.673279],[170,500.0495],[170,502.425751],[170,504.801971],[170,507.178223],[170,509.554443],[170,511.930695],[170,514.306946],[170,516.683167],[170,519.059387],[170,521.435669],[170,523.81189],[170,526.18811],[170,528.564331],[170,530.940613],[170,533.316833],[170,535.693054],[170,538.069336],[170,540.445557],[170,542.821777],[170,545.197998],[170,547.57428],[170,549.9505],[170,552.326721],[170,554.702942],[170,557.079224],[170,559.455444],[170,561.831665],[170,564.207947],[170,566.584167],[170,568.960388],[170,571.336609],[170,573.712891],[170,576.089111],[170,578.465332],[170,580.841614],[170,583.217834],[170,585.594055],[170,587.970276],[170,590.346558],[170,592.722778],[170,595.098999],[170,597.47522],[170,599.851501],[170,602.227722],[170,604.603943],[170,606.980225],[170,609.356445],[170,611.732666],[170,614.108887],[170,616.485168],[170,618.861389],[170,621.23761],[170,623.613892],[170,625.990112],[170,628.366333],[170,630.742554],[170,633.118835],[170,635.495056],[170,637.871277],[170,640.247498],[170,642.623779],[170,645],[170,647.376221],[170,648.944275],[170,648.768311],[170,648.592346],[170,648.416443],[170,648.240479],[170,648.064514],[170,648.380737],[170,648.981934],[170,649.583191],[170,650.184387],[170,650.785583],[170,651.38678],[170,651.987976],[170,652.589172],[170,652.654541],[170,659.215759],[170,659.934937],[170,660.654114],[170,661.373291],[170,662.092468],[170,662.811646],[170,663.530823],[170,664.25],[170,664.969177],[170,665.688354],[170,666.430359],[170,667.32666],[170,668.633179],[170,669.939697],[170,671.246216],[170,672.552734],[170,673.859314],[170,675.165833],[170,676.472351],[170,677.77887],[170,679.085449],[170,679.940796],[170,679.743408],[170,679.546082],[170,679.348694],[170,679.151306],[170,678.023254],[170,676.187866],[170,676.551514],[170,676.915161],[170,677.278809],[170,677.642395],[170,678.014465],[170,678.884033],[170,679.753601],[170,680.623169],[170,681],[170,681],[170,681],[170,681],[170,681],[170,681],[170,681],[170,681.825378],[170,683.095215],[170,684.365051],[170,686.377075],[170,681.428589],[170,692.946472],[170,688.995911],[170.833328,685.045288],[170.166672,681.094666],[170,681.908142],[170,676.397949],[170,675.190491],[170,674.311462],[170,673.112976],[170,673.282471],[170,673.451965],[170,673.62146],[170,673.790955],[170,673.960449],[170,673.549927],[170,672.96283],[170,672.375732],[170,671.788635],[170,671.201538],[170,670.614502],[170,670.027405],[170,669.440308],[170,668.642883],[170,667.214294],[170,665.785706],[170,664.357117],[170,662.928589],[170,661.5],[170,660.071411],[170,658.941162],[170,658.705872],[170,658.470581],[170,658.235291],[170,658],[170.916672,656.027405],[170.666672,666.065552],[170.25,665.75],[171,658.917603],[170,655.291199],[170.083328,651.664856],[171,652.857117],[170.833328,654.777771],[170,648.111084],[171,643.880005],[170,644.978577],[170,643.692871],[170,642.407166],[170.333328,640.801147],[171,639.046814],[171,637.292419],[170.384613,636.411743],[171,637.229492],[171,639.634949],[171,641.222229],[170,642.809509],[170.75,629.125],[170.666672,628.470581],[170,624.989014],[170,624.329651],[170,623.670349],[170,623.010986],[170.666672,633.916687],[171,622.711975],[170.333328,621.031982],[170,619.35199],[171,617.671997],[170,615.671204],[170.833328,614.027405],[170,607],[170,607.092285],[170,607.707703],[170,608.323059],[170,608.938477],[170,607.219788],[170,602.68042],[170,594.02063],[170,597],[170,597],[170,597],[170,594.833313],[170,587.606567],[170,583.745483],[170,579.018188],[170,575.375],[170,581.022705],[170.714279,581.704529],[170.166672,582.386353],[171,581.838684],[170,578.016479],[171,571.843628],[171,565.670776],[170,559.497925],[170,560.918396],[170,560.306152],[170,559.25],[170,557.75],[170,556.25],[170,554.75],[170,553.25],[170,556.963318],[170,554.761475],[170,556.692322],[170,556.924072],[170,551.607605],[170,546.737732],[170,544.770508],[170,542.56366],[170,538.738098],[171,542.555542],[170,531.142883],[171,528.200012],[170,532.462708],[170,525.298523],[171,520.612915],[170.714279,518.962036],[170,512.555542],[170.5,512.218201],[171,513.672729],[171,515.127258],[170.5,512.666687],[170.166672,512.583313],[171,507.333344],[171,505.734375],[171,503.390625],[171,503],[171,500.047882],[171,495.260651],[170,490.473419],[171,484.193542],[171,473.684204],[171,481.5],[171,480.68042],[171,478.206177],[171,479.21817],[171,480.712341],[171,480.301361],[170.75,477.58905],[170.428574,468.709686],[170,465.296692],[170.833328,464.416656],[170.5,461],[171,468.588226],[171,463.647064],[170.5,462.333344],[170.333328,455.551025],[170.615387,454.034485],[170,450.93103],[170,457.160004],[170.166672,454.690491],[170.666672,449.388062],[170.5,440.357147],[170,435.488373],[170,431.166656],[170,428.040009],[170,434.142853],[170.166672,428.625],[171,425.333344],[170,419.906982],[170,420.306122],[170,416.879303],[170,413.258606],[170,410],[170,410],[170,410],[170,407.507477],[170,403.029846],[170,399],[170,399],[170,390.349731],[170,388.054657],[170,385.759552],[170,383.393951],[170,380.796539],[170,378.199127],[170,375.601746],[170,374.741943],[170,371.97467],[170,365.935486],[170,359.894745],[170,355.947357],[170,352],[170,353.633331],[170,344.41861],[170,346.889923],[170,344.68808],[169.166672,340.5],[170,340.559998],[170,337],[170,334.333344],[170,335],[170,334.75],[170,321.872742],[169.833328,327],[169,315],[170,312.440002],[169.666672,303.894745],[169,301.7742],[170,306.441864],[169.333328,306],[169,302.408173],[169,299],[170,300.091736],[169,295.137604],[169.5,285.567566],[169,278.279999],[169.333328,280.016388],[169,274.75],[169,276.857147],[169,275.333344],[169,270.357147],[169,266.071442],[169,262.40506],[169,259.666656],[169,260.629639],[169,257.399994],[169,250.591843],[169,245.333328],[169,241.510208],[169,235.666672],[169,235.040817],[169,232.315063],[169,228.571426],[169,225],[168.333328,220.440002],[168.714279,211.230774],[168.166672,211.25],[169,204],[168,203.333328],[168,199.809525],[168,196.625],[168,192.666672],[168,188.824997],[168,188.074997],[168,181],[168,177.833328],[168,177.145462],[168,172.25],[168,166.777771],[168,164.5],[168,159.333328],[168,157.916672],[168,156.333328],[168,150.230774],[168,148],[168,143.666672],[168,144.444443],[167.5,133],[167.833328,137.611115],[168,130.666672],[167.571426,126.285713],[168,126.157898],[167.666672,127],[167.166672,125.833336],[168,118],[167,113.432434],[167.333328,108.333336],[167,109.5],[167,101.692307],[167,99.333336],[167,96.833336],[167,88],[167,84.166664],[167,83.666664],[167,79],[167,77.333336],[167,70.666664],[167,70.166664],[167,66],[169,60],[169,57.666668],[169,51.210526],[169,52],[169,50.052631],[169,49.666668],[168.5,44.5],[169,42.666668],[168.833328,35.5],[169,37],[169,34.416668],[169,30.333334],[169,26.5],[169,24.857143],[169,26.571428],[168.153839,24.285715],[169,22.833334],[169,22],[168.666672,20],[168.416672,20.083334],[169,19],[169,20.5],[169,19],[169,18.285715],[169,14],[168.333328,12.666667],[169,16.5],[169,33],[169,32.166668],[169,10.428572],[169,32.666668],[169,32.5],[169,32.333332],[169,33],[169,10],[169,28.571428],[168.416672,33.666668],[168,32.333332],[168,32.25],[168,32],[168,32.166668],[168,12],[168,33],[168,33.222221],[168,32.666668],[168,32],[168,33],[168,32.166668],[168,32.5],[168,32.923077],[168,17.285715],[168,25],[168,32.5],[168,32.666668],[168,33],[168,32],[167,32.166668],[167,3],[167,3.25],[167,2.666667],[167,3],[167,3.166667],[167,3],[166,3],[167,3],[168,3],[168,2.5],[167.666672,3],[168,3.166667],[168,3],[167,3],[167,3],[167,3.25],[167,4],[167,2],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3.013989],[167,3.036673],[167,3.059357],[167,3.082042],[167,3.104726],[167,3.12741],[167,3.150095],[167,3.172779],[167,3.195463],[167,3.218148],[167,3.240832],[167,3.263516],[167,3.2862],[167,3.308885],[167,3.331569],[167,3.354253],[167,3.376938],[167,3.399622],[167,3.422306],[167,3.444991],[167,3.467675],[167,3.490359],[167,3.513043],[167,3.535728],[167,3.558412],[167,3.581096],[167,3.603781],[167,3.626465],[167,3.649149],[167,3.671834],[167,3.694518],[167,3.717202],[167,3.739887],[167,3.762571],[167,3.785255],[167,3.80794],[167,3.830624],[167,3.853308],[167,3.875993],[167,3.898677],[167,3.921361],[167,3.944045],[167,3.96673],[167,3.989414],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,4],[167,3.810811],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3],[167,2.843931],[167,2.67052],[167,2.49711],[167,2.323699],[167,2.150289],[167,2.076923],[167,2.653846],[167,3.116505],[167,3.407767],[167,3.699029],[167,3.990291],[167.068802,3.582734],[167.139969,3.151079],[167.211151,3.055398],[167.282318,3.140625],[167.3535,3.225852],[167.424667,3.31108],[167.49585,3.396307],[167.567017,3.481534],[167.638199,3.566761],[167.709366,3.651989],[167.780548,3.737216],[167.851715,3.822443],[167.922897,3.90767],[167.994064,3.992898],[167,3],[167,3],[167,3],[167,3],[167,3],[167,3],[167.214874,2.429752],[167.710739,3.421488],[167.042419,3.042424],[167.406067,3.406061],[167.769699,3.769697],[168,3],[168,3],[168,3],[168,2.981818],[168,2.2],[168,3],[168,3],[168,3],[168,2.5],[168,3.836735],[168,3],[168,3],[168,3],[168,3],[168,3],[168,2.333333],[168,2.938776],[168,3],[168,3.083333],[168,2.27907],[168,3.6],[168,1.916667],[168,3],[168,3],[168.600006,2.526316],[168,2.333333],[168,3.458333],[168,3],[168.92308,3],[169,3.233333],[169,3],[169,3],[168.666672,3.666667],[169,3],[169,3.388889],[169,3.328767],[169,3.734694],[169,3],[169,3],[169,3],[169,3],[169,3],[169,3.333333],[169,3.04],[169,3.708333],[169,3],[169,4],[169,3.708333],[168.555557,3.416667],[167,2.655738],[167,3],[167,3.2],[167,3.833333],[167,2.5],[167,3],[167,2.153846],[167.666672,3.333333],[167,2.625],[167.81395,2.714286],[167,2],[167,3],[167,3.333333],[166,3],[166.300003,3.483871],[166,3],[166,3],[166,4],[166.142853,4],[166,3.833333],[166,3.743119],[166,3.192661],[166,3.666667],[166,3.466667],[166,3],[166,3],[167,3.846154],[167,3],[167,3],[167,3.125],[167,3],[167,2.166667],[167,3],[167,2],[167,4.166667],[167,3],[167,3.157895],[167,3],[167,3.105263],[167,3.208333],[167,3.5],[167,3],[167,3.333333],[167,3.157895],[167,3.307692],[167,3],[167,3],[167,3.333333],[167,3.083333],[167,2.153846],[167,2.222222],[167,3.166667],[167,2.222222],[167,2.166667],[167.279999,3.28],[167,3],[168,3.333333],[168,2.875],[168,4],[168,3],[168,2.833333],[168,3],[168,2.555556],[168,3.666667],[168,4.833333],[168,3.25],[168,3.833333],[168,3],[168,4],[168,4],[169,3.25],[168,3.666667],[168,3],[168.052628,2.458333],[169,3],[169,3],[169,4],[169,3.571429],[169,3.5],[169,3],[169,3.833333],[169,3],[169,3.923077],[169,3.166667],[169,2.333333],[169,3.25],[169,3.666667],[169,4],[169,2.631579],[169,4],[169,3],[169,3.333333],[169,3.25],[169,2.666667],[169.333328,3.222222],[169,3.055556],[169,3],[169,3],[169,3.166667],[169.769226,3],[170,3.75],[170,3.666667],[169.916672,3.166667],[170,3],[169,3.142857],[169,4.916667],[169,3.166667],[169,2.5],[169,3],[169,2.333333],[169,3.166667],[169,3],[169,3],[169,3],[169,3.5],[169,3.833333],[169,4],[169,3],[169,3],[169,3.333333],[169,3.5],[169.833328,3.833333],[169.833328,3.833333],[170,3],[170,3],[170,3.166667],[170,3.333333],[170,3.5],[170,3.666667],[170,3],[170,3],[170,3.833333],[169.5,3.5],[169,3.692308],[169,4.166667],[169,3],[169,3],[169,3],[169,3.230769],[169,4],[169,3.166667],[169,3],[169,3],[169,3.722222],[169,3],[169,3.916667],[169,3],[169,3.571429],[169,3],[169,3.916667],[170,3.833333],[169,4],[169.520004,3.076923],[169.055557,4],[169.333328,3],[169,3],[169,3.666667],[169.833328,3.916667],[169.583328,3],[169,2],[169,3.966667],[169,3],[169.945206,3.594594],[169.123291,3.166667],[169.166672,3],[169.087677,4]];

function start(){
	var clusters = hcluster(points, distances.euclidean, "single",
		7, true,1000, function(clusters) {});
	console.log(clusters.length);
	
	/*for(var i=0;i<clusters.length;i++){
		var group = flatten_cluster(clusters[i]);
		console.log(group);
	}*/
	console.log(clusters);
}





function flatten_cluster(cluster) {
  // flatten cluster hierarchy
  if(!cluster.left){
    return [cluster];
  }else{
    return flatten_cluster(cluster.left).concat(flatten_cluster(cluster.right));
  }
}
</script>